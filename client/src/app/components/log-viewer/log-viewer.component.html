<div class="logs-page">
    <div class="page-header">
        <div>
            <h1 class="page-title">לוגים</h1>
            <p class="page-subtitle">{{ socket.logs().length }} אירועים</p>
        </div>
        <button class="btn btn-ghost" (click)="clearLogs()"><i class='bx bx-trash'></i> נקה</button>
    </div>

    <div class="card log-card">
        <div class="log-body" #scrollContainer>
            @if (socket.logs().length === 0) {
            <div class="empty-state">
                <div class="empty-icon"><i class='bx bx-clipboard'></i></div>
                <p>אין לוגים עדיין... מחכה לאירועים</p>
            </div>
            }

            @for (log of socket.logs(); track $index) {
            <div class="log-line" [class]="getLogClass(log.level)">
                <span class="log-time">{{ formatTime(log.timestamp) }}</span>
                @if (log.category) {
                <span class="category-badge" [attr.data-category]="log.category">{{ log.category }}</span>
                }
                <span class="log-level">[{{ log.level.toUpperCase() }}]</span>
                <span class="log-msg">{{ log.message }}</span>
            </div>
            }
        </div>
    </div>
</div>